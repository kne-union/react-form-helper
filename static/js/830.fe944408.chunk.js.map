{"version":3,"file":"static/js/830.fe944408.chunk.js","mappings":"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","sources":["../../src/hooks/useBlurDecorator.js","../../src/hooks/useChangeDecorator.js","../../src/widget/MaxLabelProvider.js","../../src/widget/SizeProvider.js","../../src/hooks/useFieldProps.js","../../src/hooks/useUIDecorator.js","../../src/preset.js","../../src/hooks/useDecorator.js","../../src/index.js","../../src/hooks/useCheckedToValue.js","../../src/hooks/useCacheRemove.js","../../src/widget/ScrollToError.js","../../src/widget/EnterSubmit.js","../../src/widget/FormStore.js"],"sourcesContent":["import {useCallback} from 'react';\n\nconst useBlurDecorator = ({triggerValidate, onBlur, ...others}) => {\n    const handlerBlur = useCallback((...args) => {\n        onBlur && onBlur(...args);\n        triggerValidate();\n    }, [onBlur, triggerValidate]);\n    return {\n        onBlur: handlerBlur,\n        ...others\n    };\n};\n\nexport default useBlurDecorator;","import { useRef, useEffect, useCallback } from 'react';\n\nconst useChangeDecorator = ({ triggerValidate, value, onChange, ...others }) => {\n  const hasChanged = useRef(false),\n    validate = useRef(triggerValidate);\n  const handlerChange = useCallback(\n    (...args) => {\n      onChange && onChange(...args);\n      hasChanged.current = true;\n    },\n    [onChange]\n  );\n  validate.current = triggerValidate;\n  useEffect(() => {\n    hasChanged.current && validate.current();\n  }, [value]);\n\n  return {\n    value,\n    onChange: handlerChange,\n    ...others\n  };\n};\n\nexport default useChangeDecorator;\n","import React, { useState, useContext, createContext, useLayoutEffect, useRef } from 'react';\nimport textWidth from '@kne/text-width';\nimport { useFormContext } from '@kne/react-form';\nimport { uniq } from 'lodash';\n\nconst context = createContext({});\n\nconst { Provider } = context;\n\nexport const useMaxLabelWidth = () => {\n  const { maxWidth } = useContext(context);\n  return maxWidth;\n};\n\nconst MaxLabelProvider = ({ minLabelWidth, children }) => {\n  const [maxWidth, setMaxWidth] = useState(minLabelWidth || 0);\n  const { fields } = useFormContext();\n  const root = useRef(null);\n  useLayoutEffect(() => {\n    const label = root.current.querySelector('.react-form__field-label') || root.current;\n    const fontSize = window.getComputedStyle(label).getPropertyValue('font-size');\n    setMaxWidth(\n      Math.max(\n        ...uniq(\n          [].map.call(root.current.querySelectorAll('.react-form__field-label'), item => {\n            return item.innerText;\n          })\n        ).map(str => textWidth(str, fontSize))\n      )\n    );\n  }, [fields]);\n  return (\n    <Provider value={{ maxWidth, setMaxWidth }}>\n      <span ref={root}>{children}</span>\n    </Provider>\n  );\n};\n\nexport default MaxLabelProvider;\n","import {createContext, useContext} from 'react';\n\nconst context = createContext({size: 'middle'});\n\nconst {Provider, Consumer} = context;\n\nexport const useFormSize = () => {\n    const {size} = useContext(context);\n    return size;\n};\n\nexport default Provider;","import React, { createContext, useContext } from 'react';\n\nconst context = createContext({});\n\nconst useFieldProps = () => {\n  return useContext(context);\n};\n\nconst { Provider } = context;\n\nexport const FieldPropsProvider = ({ props, children }) => {\n  return <Provider value={props}>{children}</Provider>;\n};\n\nexport default useFieldProps;\n","import React, { useState, useCallback, useEffect } from 'react';\nimport classnames from 'classnames';\nimport { useMaxLabelWidth } from '../widget/MaxLabelProvider';\nimport { useFormContext } from '@kne/react-form';\nimport { useFormSize } from '../widget/SizeProvider';\nimport { FieldPropsProvider } from './useFieldProps';\n\nconst computedErrorClassName = ({ errMsg, errState, isSubmit, isValueChanged }) => {\n  return {\n    'is-req-error': errMsg === '' && errState === 2 && (isSubmit || isValueChanged),\n    'is-error': errMsg !== '' && errState === 2,\n    'is-loading': errState === 3\n  };\n};\n\nconst useUIDecorator = props => {\n  const {\n    id,\n    name,\n    rule,\n    description,\n    className,\n    onChange,\n    label,\n    labelRender,\n    labelTips,\n    labelHidden,\n    errMsg,\n    errState,\n    isValueChanged,\n    wrappedClassName,\n    fieldRef,\n    important,\n    ignoreLabelWidth,\n    formState,\n    groupIndex,\n    groupName,\n    formData,\n    associationOptions,\n    ...others\n  } = props;\n  const size = useFormSize();\n  const [isREQ, setIsREQ] = useState(false),\n    [isSubmit, setIsSubmit] = useState(false);\n  const { emitter } = useFormContext();\n  const labelWidth = useMaxLabelWidth();\n  useEffect(() => {\n    typeof rule === 'string' && setIsREQ((rule || '').split(' ').indexOf('REQ') > -1);\n  }, [setIsREQ, name, rule]);\n\n  //当表单提交时设置状态\n  useEffect(() => {\n    const subscription = emitter.addListener('form:submit', () => {\n      setIsSubmit(true);\n    });\n    return () => {\n      subscription && subscription.remove();\n    };\n  }, [emitter]);\n\n  const handlerChange = useCallback(\n    (...args) => {\n      onChange(...args);\n      setIsSubmit(false);\n    },\n    [onChange, setIsSubmit]\n  );\n\n  return useCallback(\n    WrappedComponent => {\n      const style = {};\n\n      if (!ignoreLabelWidth && labelWidth > 0) {\n        style.minWidth = labelWidth;\n      }\n\n      const stateClassName = computedErrorClassName({ errMsg, errState, isSubmit, isValueChanged });\n      const isReq = important !== void 0 ? important : isREQ;\n      if (size) {\n        others.size = size;\n      }\n      return (\n        <div\n          ref={fieldRef}\n          className={classnames(\n            'react-form__field',\n            {\n              'is-ignore-label-width': ignoreLabelWidth\n            },\n            wrappedClassName,\n            stateClassName\n          )}\n        >\n          <div className=\"react-form__field-main\">\n            {label && !labelHidden ? (\n              <div className={classnames('react-form__field-label', { 'is-req': isReq })} style={style}>\n                <i className=\"react-form__field_extra\" />\n                {typeof labelRender === 'function' ? labelRender({ label, ...others }) : label}\n                {labelTips && <span className=\"react-form__field_label-tips\">{typeof labelTips === 'function' ? labelTips(props) : labelTips}</span>}\n              </div>\n            ) : null}\n            <div className=\"react-form__field-input\">\n              <FieldPropsProvider props={props}>\n                <WrappedComponent {...Object.assign({}, others, associationOptions)} className={classnames('react-form__field-component', className)} onChange={handlerChange} />\n                {description ? <div className=\"react-form__field-describable\">{description}</div> : null}\n                {errMsg ? <div className=\"react-form__field-error\">{errMsg}</div> : null}\n              </FieldPropsProvider>\n            </div>\n          </div>\n        </div>\n      );\n    },\n    [labelWidth, fieldRef, labelHidden, ignoreLabelWidth, others, associationOptions, isValueChanged, className, errMsg, errState, handlerChange, important, isREQ, isSubmit, label, wrappedClassName]\n  );\n};\n\nexport default useUIDecorator;\n","import merge from 'lodash/merge';\n\nexport const globalParams = {\n  field: {}\n};\n\nexport default props => {\n  merge(globalParams, props);\n};\n","import { useField } from '@kne/react-form';\nimport useUIDecorator from './useUIDecorator';\nimport useBlurDecorator from './useBlurDecorator';\nimport useChangeDecorator from './useChangeDecorator';\nimport { globalParams } from '../preset';\n\nconst defaultPropsAssign = ({ fieldName, ...props }) => {\n  return Object.assign({}, globalParams.globalProps, globalParams.field[fieldName], props);\n};\n\nconst useDecorator = ({ realtime, ...props }) => {\n  const fieldProps = useField(defaultPropsAssign(Object.assign(realtime ? { debounce: 500 } : {}, props))),\n    changeProps = useChangeDecorator(fieldProps),\n    blurProps = useBlurDecorator(fieldProps),\n    realtimeProps = Object.assign({}, blurProps, changeProps);\n  return useUIDecorator(realtime ? realtimeProps : blurProps);\n};\n\nexport default useDecorator;\n\nexport const useOnChange = props => {\n  const fieldProps = useField(defaultPropsAssign(props)),\n    changeProps = useChangeDecorator(fieldProps);\n  return useUIDecorator(changeProps);\n};\n\nexport const useOnBlur = props => {\n  const fieldProps = useField(defaultPropsAssign(props)),\n    blurProps = useBlurDecorator(fieldProps);\n  return useUIDecorator(blurProps);\n};\n","import useBlurDecorator from './hooks/useBlurDecorator';\nimport useChangeDecorator from './hooks/useChangeDecorator';\nimport useCheckedToValue, { withChecked } from './hooks/useCheckedToValue';\nimport useDecorator, { useOnBlur, useOnChange } from './hooks/useDecorator';\nimport useUIDecorator from './hooks/useUIDecorator';\nimport useCacheRemove from './hooks/useCacheRemove';\nimport useFieldProps from './hooks/useFieldProps';\nimport ScrollToError from './widget/ScrollToError';\nimport EnterSubmit from './widget/EnterSubmit';\nimport MaxLabelProvider from './widget/MaxLabelProvider';\nimport SizeProvider from './widget/SizeProvider';\nimport FormStore from './widget/FormStore';\nimport { useField } from '@kne/react-form';\n\nexport const hooks = {\n  useField,\n  useFieldProps,\n  useBlurDecorator,\n  useChangeDecorator,\n  useCheckedToValue,\n  useDecorator,\n  useOnBlur,\n  useOnChange,\n  useUIDecorator,\n  useCacheRemove\n};\n\nexport const hoc = {\n  withChecked\n};\n\nexport const widget = {\n  ScrollToError,\n  EnterSubmit,\n  MaxLabelProvider,\n  FormStore,\n  SizeProvider\n};\n\nexport const utils = {};\n\nconst api = {\n  hooks,\n  hoc,\n  widget,\n  utils\n};\n\nexport { default as preset } from './preset';\n\nexport default api;\n","import React from 'react';\n\nconst useCheckedToValue = ({checked, ...props}) => {\n    return {\n        ...props,\n        value: checked\n    };\n};\n\nexport default useCheckedToValue;\n\nexport const withChecked = (WrappedComponent) => {\n    return ({value, ...props}) => <WrappedComponent {...props} checked={value}/>\n};","import { useFormContext } from '@kne/react-form';\n\nconst useCacheRemove = () => {\n  const { emitter } = useFormContext();\n  return () => {\n    emitter.emit('form-widget:store:remove');\n  };\n};\n\nexport default useCacheRemove;\n","import { useEffect } from 'react';\nimport { useFormContext } from '@kne/react-form';\nimport { get } from 'lodash';\n\nconst ScrollToError = ({ scrollProps = {} }) => {\n  const { emitter } = useFormContext();\n  useEffect(() => {\n    const subscription = emitter.addListener('form:submit:error', errors => {\n      const el = get(errors, '[0].fieldRef.current');\n      el && typeof el.scrollIntoView === 'function' && el.scrollIntoView(scrollProps);\n    });\n    return () => {\n      subscription && subscription.remove();\n    };\n  }, [emitter]);\n\n  return null;\n};\n\nexport default ScrollToError;\n","import React, { useCallback } from 'react';\nimport { useFormContext } from '@kne/react-form';\n\nconst EnterSubmit = ({ type = 'div', children, ...props }) => {\n  const { emitter } = useFormContext();\n  const handlerKeyUp = useCallback(e => {\n    if (e.keyCode === 13) {\n      emitter.emit('form:submit');\n    }\n  }, [emitter]);\n\n  return React.createElement(type, Object.assign({}, props, {\n    onKeyUp: handlerKeyUp\n  }), children);\n};\n\nexport default EnterSubmit;\n","import { useEffect, useRef } from 'react';\nimport { useFormContext } from '@kne/react-form';\nimport localStorage from '@kne/local-storage';\n\n\nconst FormStore = ({ cache }) => {\n  const name = useRef(`REACT_FORM_STORE_${cache}`);\n  const fieldsRef = useRef(new Map());\n  const { emitter, openApi } = useFormContext();\n  useEffect(() => {\n    const data = localStorage.getItem(name.current) || {};\n\n    const subscriptionFieldReady = emitter.addListener('form:field:ready', (field) => {\n      if (data[field.path]) {\n        emitter.emit(`form-field:input:${field.id}`, { value: data[field.path].value });\n      }\n    });\n\n    const subscriptionChange = emitter.addListener('form:field:set-value', ({ id, value, path }) => {\n      if (value === void 0) {\n        return;\n      }\n      fieldsRef.current.set(id, { id, value, path });\n      const preData = Object.assign({}, localStorage.getItem(name.current));\n      preData[path] = { id, value, path };\n      localStorage.setItem(name.current, preData);\n    });\n\n    const subscriptionSubmit = emitter.addListener('form:submit:success', () => {\n      localStorage.removeItem(name.current);\n    });\n\n    const subscriptionRemove = emitter.addListener('form-widget:store:remove', () => {\n      localStorage.removeItem(name.current);\n    });\n\n    return () => {\n      subscriptionFieldReady && subscriptionFieldReady.remove();\n      subscriptionChange && subscriptionChange.remove();\n      subscriptionSubmit && subscriptionSubmit.remove();\n      subscriptionRemove && subscriptionRemove.remove();\n    };\n  }, [emitter]);\n  return null;\n};\n\nexport default FormStore;\n"],"names":["useBlurDecorator","_ref","triggerValidate","onBlur","others","_objectWithoutPropertiesLoose","_excluded$5","_extends","useCallback","arguments","useChangeDecorator","value","onChange","_excluded$4","hasChanged","useRef","validate","handlerChange","current","useEffect","context$2","createContext","Provider","Provider$2","context$1","size","Provider$1","Consumer","context","FieldPropsProvider","_ref4","props","children","React","useUIDecorator","name","rule","description","className","label","labelRender","labelTips","labelHidden","errMsg","errState","isValueChanged","wrappedClassName","fieldRef","important","ignoreLabelWidth","associationOptions","_excluded$2","useFormSize","useContext","isREQ","setIsREQ","useState","isSubmit","setIsSubmit","emitter","useFormContext","labelWidth","useMaxLabelWidth","maxWidth","split","indexOf","subscription","addListener","remove","WrappedComponent","style","minWidth","stateClassName","_ref5","computedErrorClassName","isReq","ref","classnames","Object","assign","globalParams","field","preset","merge","defaultPropsAssign","fieldName","_excluded$1","globalProps","hooks","useField","useFieldProps","useCheckedToValue","checked","_excluded$3","useDecorator","_ref2","realtime","_excluded2","fieldProps","debounce","changeProps","blurProps","realtimeProps","useOnBlur","useOnChange","useCacheRemove","emit","hoc","withChecked","_excluded2$1","widget","ScrollToError","_ref6","scrollProps","_scrollProps","errors","el","get","scrollIntoView","EnterSubmit","type","_excluded","handlerKeyUp","e","keyCode","onKeyUp","MaxLabelProvider","_ref3","minLabelWidth","setMaxWidth","fields","root","useLayoutEffect","querySelector","fontSize","window","getComputedStyle","getPropertyValue","Math","max","uniq","map","call","querySelectorAll","item","innerText","str","textWidth","FormStore","_ref7","cache","fieldsRef","Map","openApi","data","localStorage","getItem","subscriptionFieldReady","path","id","subscriptionChange","_ref8","set","preData","setItem","subscriptionSubmit","removeItem","subscriptionRemove","SizeProvider","utils","api"],"sourceRoot":""}